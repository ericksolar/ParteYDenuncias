<div class="row">
    <div class="col border">
        <form autocomplete="off" [formGroup]="miFormulario">
            <div class="col">
                    <div class="col-sm-12 text-center">
                        <h3>Datos Generales de la Denuncia</h3>
                        <small>(Solo lo llena el funcionario policial)</small>
                    </div>
                
                <div class="row border">
                    <div class="col col-sm mt-2">
                         
                        <div class="row mb-2">
                            <label  class="col-sm-3"> Fecha y Hora: <span style="color: red; font-weight: bold;">*</span> </label>
                            <div class="col-sm-4">
                                <input formControlName="fecha" type="datetime-local" class="form-control">
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label class="col-sm-3"> Delito: <span style="color: red; font-weight: bold;">*</span></label>
                            <div class="col-sm-4">
                                <select class="form-select"
                                        formControlName="tipoDelito">
                                    <option value="null">Seleccionar</option>
                                    <option *ngFor="let delito of tpDelito; let i = index " [value]="delito">
                                    {{ delito }}
                                    </option>
                                </select>                    
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label class="col-sm-3"> Zona del Delito: <span style="color: red; font-weight: bold;">*</span></label>
                            <div class="col-sm-4">
                                <select class="form-select"
                                        formControlName="zonaDelito">
                                    <option value="null">Seleccionar</option>
                                    <option *ngFor="let tpzonadelito of tpZonaDelito; let i=index" [ngValue]="tpzonadelito">
                                    {{ tpzonadelito }}
                                    </option>
                                </select>
                            </div>
                        </div>

                        <div class="row mb-2 ">
                            <label  class="col-sm-3"> Tipo de Lugar de Ocurrencia: <span style="color: red; font-weight: bold;">*</span></label>
                            <div class="col-sm-4">
                                <select class="form-select" formControlName="TipoLugarOcurrencia">
                                    <!-- [(ngModel)]="TipoOcurrencia" name="Ocurrencia" -->
                                    <option disabled value="null">Seleccionar</option>
                                    <option *ngFor="let tplugar of tpLugarOcurrencia; let i=index" [ngValue]="tplugar">
                                    {{ tplugar }}
                                    </option>                                      
                                </select>
                                <!-- <div class="form-group" *ngIf="TipoOcurrencia == 'otro'">
                                    <input type="text" class="" id="name" ngModel name="other_college_name" required>
                                </div> -->
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label class="col-sm-3">Lugar Específico de ocurrencia: </label>
                            <div class="col-sm-7">
                                <textarea class="form-control" rows="4" [(ngModel)]="desc" formControlName="lugarOcurrencia"></textarea>
                            </div>
                            <div class="col-sm-2">
                                <div *ngIf="desc.length" >N° de caracteres: 
                                    <span>{{desc.length}}</span>
                                </div>
                                <span *ngIf="this.miFormulario.controls['lugarOcurrencia'].errors?.['maxLength']">
                                    The name cannot exceed 50 characters.
                                  </span>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="row border">

                    <div class="col-sm-3 mb-2">
                        <label>Dirección del Delito</label>
                    </div>

                    <div class="col mb-2" >
                        <div class="row mb-2" *ngIf="miFormulario.get('zonaDelito')?.value !== 'Marítimo' && 
                                                miFormulario.get('zonaDelito')?.value !== 'Fluvial' && 
                                                miFormulario.get('zonaDelito')?.value !== 'Lacustre'">
                            <label class="col-sm-2">Calle:<span style="color: red; font-weight: bold;">*</span></label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" 
                                formControlName="calle">
                            </div>

                            <label class="col-sm-2">Número:</label> 
                            <div class="col-sm-4">
                                <input formControlName="numero" type="text" class="form-control">
                            </div>
                        </div>                        
                    

                    
                        <div class="row mb-2" *ngIf="miFormulario.get('zonaDelito')?.value !== 'Marítimo' &&
                                                    miFormulario.get('zonaDelito')?.value !== 'Fluvial' && 
                                                    miFormulario.get('zonaDelito')?.value !== 'Lacustre'">
                            <label class="col-sm-2">Depto/Oficina:</label>
                            <div class="col-sm-4">
                                <input formControlName="departamento" type="text" class="form-control">
                            </div>

                            <label class="col-sm-2">Block:</label>
                            <div class="col-sm-4">
                                <input formControlName="block" type="text" class="form-control">
                            </div>
                        </div>

                        <div class="row mb-2" *ngIf="miFormulario.get('zonaDelito')?.value !== 'Marítimo' && 
                                                    miFormulario.get('zonaDelito')?.value !== 'Fluvial' && 
                                                    miFormulario.get('zonaDelito')?.value !== 'Lacustre' ">
                            <label class="col-sm-2">Población o Villa:</label>
                            <div class="col-sm-4">
                                <input formControlName="poblacion" type="text" class="form-control">
                            </div>

                            <label class="col-sm-2">Sector:</label>
                            <div class="col-sm-4">
                                <input formControlName="sector" type="text" class="form-control">
                            </div>
                        </div>

                        <div class="row mb-2">
                            <label class="col-sm-2">Región:<span style="color: red; font-weight: bold;">*</span></label>
                            <div class="col-sm-4">
                                <select class="form-select" formControlName="region">
                                    <option [value]="null" selected>Seleccionar</option>
                                    <option *ngFor="let region of regiones"
                                            [ngValue]="region">{{region}}</option>

                                </select>
                            </div>

                            <label class="col-sm-2">Comuna:<span style="color: red; font-weight: bold;">*</span></label> 
                            <div class="col-sm-4">
                                <select class="form-select" formControlName="comuna">
                                    <option [value]="null" selected>Seleccionar</option>
                                    <option *ngFor="let comuna of comunas"
                                            [ngValue]="comuna ">{{comuna}}</option>
                                </select>      
                            </div>
                        </div>                                   

                    
                        <div class="row mb-2">
                            <label class="col-sm-2">Lugar Específico:</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control"> 
                            </div>
                            <label class="col-sm-2">Referencia de la dirección: </label>
                            <div class="col-sm-4">
                                <textarea formControlName="referencia" class="form-control" rows="2"></textarea>
                            </div>
                        </div>                    

                        <div class="row mb-2">   
                            <label class="col-sm-2">Latitud:<span style="color: red; font-weight: bold;">*</span></label>  
                            <div class="col-sm-4">
                                <input formControlName="latitud" class="form-control" type="number">                   
                            </div>

                            <label class="col-sm-2">Longitud:<span style="color: red; font-weight: bold;">*</span></label>  
                            <div class="col-sm-4">
                                <input formControlName="longitud" class="form-control" type="number">         
                            </div>
                        </div>                    
                    </div>
                </div>
            </div>
            <div class="row mt-2">
                <div class="d-grid gap-2  mx-auto justify-content-md-end">
                    <button type="submit" class="btn btn-success btn-lg" routerLinkActive="active">Guardar</button>
                </div>
            </div>  
            <br>
            <div class="row">
                <div class="col d-grid gap-2"><button type="submit" class="btn btn-primary btn-lg btn-block " routerLink="/home" routerLinkActive="active">Atrás</button></div>
                <div class="col d-grid gap-2"><button type="submit" class="btn btn-primary btn-lg btn-block " routerLink="/denunciante" routerLinkActive="active">Siguiente</button></div>                
            </div>
        </form>
    </div>
</div>

<!-- <pre>{{ miFormulario.value | json }}</pre> -->